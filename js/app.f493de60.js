(function(t){function e(e){for(var n,o,i=e[0],c=e[1],u=e[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&f.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},s={app:0},a=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/Currency/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("85ec"),s=r.n(n);s.a},1308:function(t,e,r){},"160f":function(t,e,r){},"2d58":function(t,e,r){"use strict";var n=r("91e7"),s=r.n(n);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("160f");var n=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("toolbar",{attrs:{currency:t.current,tabs:t.currencies,block:t.waitingForResponse},on:{changeActiveTab:t.getCurrencyRate}}),t.serverError?r("p",{staticClass:"error-text"},[t._v(t._s(t.serverErrorText))]):t._e(),r("tab",{attrs:{currency:t.current,cards:Object.entries(t.rate)}})],1)},a=[],o=(r("b64b"),r("96cf"),r("1da1")),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"results"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.factor,expression:"factor"}],staticClass:"results__input",attrs:{type:"text"},domProps:{value:t.factor},on:{input:function(e){e.target.composing||(t.factor=e.target.value)}}}),r("span",[t._v(t._s(t.currency))]),r("div",{staticClass:"results__cards-container"},t._l(t.range,(function(e){return r("div",{key:e[0],staticClass:"card"},[r("p",{staticClass:"card__title"},[r("span",[t._v(t._s(t.factor)+" ")]),r("span",[t._v(t._s(t.currency)+" =")])]),r("p",{staticClass:"card__text"},[r("span",[t._v(t._s((e[1]*t.factor).toFixed(2))+" ")]),r("span",[t._v(t._s(e[0]))])])])})),0),r("div",{staticClass:"results__paginator"},[r("button",{staticClass:"results__button results__button_back",attrs:{type:"button",disabled:0==t.startIndex},on:{click:t.goBack}},[r("svg",{attrs:{width:"8",height:"12",viewBox:"0 0 8 12",fill:"#282828",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M7.40991 10.58L2.82991 6L7.40991 1.41L5.99991 0L-8.7738e-05 6L5.99991 12L7.40991 10.58Z"}})]),t._v(" назад ")]),r("button",{staticClass:"results__button results__button_forward",attrs:{type:"button",disabled:t.endIndex>=t.cards.length},on:{click:t.goForward}},[t._v(" далее "),r("svg",{attrs:{width:"8",height:"12",viewBox:"0 0 8 12",fill:"#282828",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M0.590088 10.58L5.17009 6L0.590088 1.41L2.00009 0L8.00009 6L2.00009 12L0.590088 10.58Z"}})])])])])},c=[],u=(r("fb6a"),{props:["currency","cards"],data:function(){return{factor:1,startIndex:0,endIndex:4,numberOfCards:4}},computed:{range:function(){return this.cards.slice(this.startIndex,this.endIndex)}},watch:{currency:function(){this.startIndex=0,this.endIndex=4}},methods:{goForward:function(){this.startIndex+=this.numberOfCards,this.endIndex+=this.numberOfCards},goBack:function(){this.startIndex-=this.numberOfCards,this.endIndex-=this.numberOfCards}}}),l=u,d=(r("2d58"),r("2877")),f=Object(d["a"])(l,i,c,!1,null,null,null),h=f.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"toolbar"},[r("p",{staticClass:"toolbar__title"},[t._v("Курс "+t._s(t.currency)+" сегодня")]),r("button",{staticClass:"toolbar__button toolbar__button_slide toolbar__button_slide_back",attrs:{type:"button",disabled:45==t.shift},on:{click:function(e){t.shift+=t.shiftStep}}},[r("svg",{attrs:{width:"8",height:"12",viewBox:"0 0 8 12",fill:"#CCAE68",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M7.40991 10.58L2.82991 6L7.40991 1.41L5.99991 0L-8.7738e-05 6L5.99991 12L7.40991 10.58Z"}})])]),r("div",{staticClass:"toolbar__tabs",style:{left:t.shift+"px"}},t._l(t.tabs,(function(e){return r("button",{key:e,staticClass:"toolbar__button toolbar__button_tab",class:{toolbar__button_tab_active:e===t.currency},attrs:{type:"button",disabled:t.block},on:{click:function(r){return t.$emit("changeActiveTab",e)}}},[t._v(t._s(e))])})),0),r("button",{staticClass:"toolbar__button toolbar__button_slide toolbar__button_slide_forward",attrs:{type:"button",disabled:Math.abs(t.shift)>=t.maxshift},on:{click:function(e){t.shift-=t.shiftStep}}},[r("svg",{attrs:{width:"8",height:"12",viewBox:"0 0 8 12",fill:"#CCAE68",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M0.590088 10.58L5.17009 6L0.590088 1.41L2.00009 0L8.00009 6L2.00009 12L0.590088 10.58Z"}})])])])},b=[],_={props:["currency","tabs","block"],data:function(){return{shift:45,startShift:45,shiftStep:90,maxWidth:720}},computed:{maxshift:function(){return document.documentElement.clientWidth<this.maxWidth?this.tabs.length*this.shiftStep-document.documentElement.clientWidth:this.tabs.length*this.shiftStep-this.maxWidth}}},v=_,g=(r("60f8"),Object(d["a"])(v,p,b,!1,null,null,null)),m=g.exports,w={name:"App",components:{Tab:h,Toolbar:m},data:function(){return{currencies:[],current:"",rate:{},serverError:!1,serverErrorText:"",waitingForResponse:!1}},methods:{getCurrencyRate:function(t){var e=this,r=this.$store.getters.getRate(t);this.current=t,void 0===r?(this.serverError=!1,this.serverErrorText="",this.waitingForResponse=!0,this.$store.dispatch("requestRate",t).then((function(t){e.rate=t.rates,e.waitingForResponse=!1})).catch((function(t){e.serverError=!0,e.serverErrorText=t,e.waitingForResponse=!1}))):Object.assign(this.rate,r.rates)}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("requestRate","EUR").then((function(e){t.currencies=Object.keys(e.rates),t.currencies.unshift(e.base),t.current=e.base,t.rate=e.rates})).catch((function(e){t.serverError=!0,t.serverErrorText=e}));case 2:case"end":return e.stop()}}),e)})))()}},x=w,y=(r("034f"),Object(d["a"])(x,s,a,!1,null,null,null)),C=y.exports,L=(r("7db0"),r("d3b7"),r("2f62"));n["a"].use(L["a"]);var O=new L["a"].Store({state:{rates:[]},getters:{getRate:function(t){return function(e){return t.rates.find((function(t){return t.base===e}))}}},mutations:{addRate:function(t,e){t.rates.push(e)}},actions:{requestRate:function(t,e){return fetch("https://api.openrates.io/latest?base=".concat(e)).then((function(t){return t.ok?t.json():Promise.reject("".concat(t.statusText))})).then((function(e){return t.commit("addRate",e),e}))}}});n["a"].config.productionTip=!1,new n["a"]({store:O,render:function(t){return t(C)}}).$mount("#app")},"60f8":function(t,e,r){"use strict";var n=r("1308"),s=r.n(n);s.a},"85ec":function(t,e,r){},"91e7":function(t,e,r){}});
//# sourceMappingURL=app.f493de60.js.map